<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Library Management System</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
</head>
<body class="{{class}}">
    {{{body}}}
</body>
</html>


{{!-- Add user regex --}}
<script>
        let buttonuser= document.getElementById('submit');
    buttonuser.addEventListener("click",()=>{
    let username=document.getElementById('user').value;
    let name=document.getElementById('name').value;
    let email=document.getElementById('email').value;
    let phone=document.getElementById('phone').value;
    let faculty=document.getElementById('faculty').value;
    let batch=document.getElementById('batch').value;
    let password=document.getElementById('pass').value;
    let confirmpassword=document.getElementById('cpass').value;
    
    if (!username.match(/^[a-z][a-z0-9._-]{0,}$/)) {
        alert('Username must be in lowercase');
        return false;
    };

    if (!name.match(/^([A-Za-z]{1,20})\s*([A-Za-z]{0,20})\s*([A-Za-z]{1,20})?$/)) {
        alert('Please provide valid name');
        return false;
    };

    if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
        alert('Invalid Email!');
        return false;
    };
    
    if (!phone.match(/^(90|91|97|98)\d{8}$/)) {
        alert('Phone nubmer must be cointain 10 digit & strat with 90/91/97/98 ');
        return false;
    };

    if (!(faculty === 'bca' || faculty === 'bsc. csit')) {
        alert('Please Choose your faculty!');
        return false;
    };

    if (!(batch === '2075' || batch === '2076'||batch === '2077' || batch === '2078'||batch === '2079' || batch === '2080')) {
        alert('Please Choose your batch!');
        return false;
    };

    if (!password.match(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*]).{8,20}$/)) {
        alert('Password must be contain 1 uppercase,1 special character with atleast 8 digit');
        return false;
    }
   
    if(password!== confirmpassword){
        alert("password not matched");
    }
    else{
        alert("Please verify your mobile number");
    }
}); 
</script>

{{!-- Add book regex --}}
<script>
    let button= document.getElementById('smt');
    button.addEventListener("click",()=>{
    let bookid =document.getElementById('bookid').value;
    let title=document.getElementById('title').value;
    let category=document.getElementById('category').value;
    let author=document.getElementById('author').value;
    let publisher=document.getElementById('publisher').value;
    let edition=document.getElementById('edition').value;
    let stock=document.getElementById('stock').value;

    if (!bookid.match(/^(?:[0-9]|[1-9][0-9]|[1-9][0-9][0-9]|[1-9][0-9][0-9])$/)) {
        alert('Book ID must be a number');
        return false;
    }
    if (!(category === 'reference_book' || category === 'textbook'||category === 'fiction' || category === 'non_fiction'||category === 'scirnce_and_technology' || category === 'periosicals_and_journals')) {
        alert('Please Choose category!');
        return false;
    }else{
        alert("Book Added");
    }
});
</script>

{{!-- password credentials --}}
 <script>
    const passwordInput = document.querySelector(".pass-field input");
const eyeIcon = document.querySelector(".pass-field i");
const requirementList = document.querySelectorAll(".requirement-list li");

const requirements = [
    { regex: /[a-z]/, index: 0 }, 
    { regex: /[A-Z]/, index: 1 }, 
    { regex: /[0-9]/, index: 2 }, 
    { regex: /[^A-Za-z0-9]/, index: 3 },
    { regex: /.{8,}/, index: 4 }, 
]

passwordInput.addEventListener("keyup", (e) => {
    requirements.forEach(item => {
        const isValid = item.regex.test(e.target.value);
        const requirementItem = requirementList[item.index];

        if (isValid) {
            requirementItem.classList.add("valid");
        } else {
            requirementItem.classList.remove("valid");
        }
    });
});

eyeIcon.addEventListener("click", () => {
    passwordInput.type = passwordInput.type === "password" ? "text" : "password";
    eyeIcon.className = `fa-solid fa-eye${passwordInput.type === "password" ? "" : "-slash"}`;
});
document.getElementById('pass').addEventListener('input', function() {
    var password = this.value.trim();
    var contentDiv = document.querySelector('.content');
    if (password !== '') {
      contentDiv.style.display = 'block';
    } else {
      contentDiv.style.display = 'none';
    }
  });
  </script>

  

{{!-- for desable checkbox after check --}}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelector('tbody').addEventListener('click', function (event) {
            if (event.target.type === 'checkbox') {
                disableCheckbox(event.target);
            }
        });
        
        function disableCheckbox(checkbox) {
            if (checkbox.checked) {
                checkbox.disabled = true;
            }
        }
    });
</script>


{{!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script> --}}
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


    